<mat-toolbar>
  <div class="container">
    <div class="brand">
      <a routerLink="/" class="main" aria-label="vers la page d'accueil">
        <mat-icon>home</mat-icon>
        <span>Angular ORM</span>
      </a>
    </div>

    <div class="cta">
      @if (isAuthenticated() && user()) {
        <button matButton="outlined"
            [matMenuTriggerFor]="menu"
            aria-label="ouvre le menu utilisateur"
            class="menu-button"
        >
          <mat-icon>more_vert</mat-icon>
          {{ user()?.displayName }}
        </button>
        <mat-menu #menu="matMenu" class="menu-user">
          <a mat-menu-item
              aria-label="vers mes images"
              [routerLink]="['/user', user()?.id, 'picture']"
              [queryParams]="{ author: user()?.displayName }"
          >
            <mat-icon>photo_library</mat-icon>
            Mes images
          </a>
          <a mat-menu-item
              aria-label="ajouter une image"
              [routerLink]="['/user', user()?.id, 'picture', 'add']"
          >
            <mat-icon>add</mat-icon>
            Ajouter une image
          </a>
          <button mat-menu-item
              (click)="logout()"
              aria-label="se déconnecter"
          >
            <mat-icon>logout</mat-icon>
            <span>Déconnexion</span>
          </button>
        </mat-menu>
      } @else {
        <a matButton="filled" routerLink="/login" aria-label="se connecter">Connexion</a>
      }
    </div>
  </div>
</mat-toolbar>